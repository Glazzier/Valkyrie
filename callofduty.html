<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Call of Duty Community Petition</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="bg-gray-900 text-white">
  <header class="bg-gray-800 shadow-lg">
    <div class="container mx-auto px-4 py-6">
      <div class="text-3xl font-bold text-blue-500">VKTEAM</div>
    </div>
  </header>
  <main class="container mx-auto px-4 py-8">
    <section class="text-center mb-16">
      <h1 class="text-5xl font-bold text-blue-500 mb-4">Call of Duty Community Petition</h1>
      <p class="text-xl text-gray-300">A call for action to improve our gaming experience</p>
    </section>
    <section class="grid md:grid-cols-2 gap-8">
      <div class="bg-gray-800 rounded-lg p-6 shadow-lg">
        <h2 class="text-2xl font-bold text-blue-500 mb-4 flex items-center">
          <i class="fas fa-exclamation-triangle mr-2"></i> Lost Community Trust
        </h2>
        <p class="text-gray-300">The community's faith has been severely damaged. Steam numbers are declining daily,
          with Twitch viewership barely reaching 5,000. Meanwhile, hackers continue to operate freely without effective
          intervention from the development team.</p>
      </div>
      <div class="bg-gray-800 rounded-lg p-6 shadow-lg">
        <h2 class="text-2xl font-bold text-blue-500 mb-4 flex items-center">
          <i class="fas fa-shield-alt mr-2"></i> Compromised Security
        </h2>
        <p class="text-gray-300">User security must be guaranteed from day one. It's unacceptable that unauthorized
          access to routers or Activision's servers continues to occur. This represents a serious breach of trust that
          must be addressed immediately.</p>
      </div>
      <div class="bg-gray-800 rounded-lg p-6 shadow-lg">
        <h2 class="text-2xl font-bold text-blue-500 mb-4 flex items-center">
          <i class="fas fa-gavel mr-2"></i> Negligence Claims
        </h2>
        <p class="text-gray-300">Growing concerns about the handling of cheating issues have led to serious accusations.
          While these claims may seem unthinkable for a company of Activision's size, the current situation raises valid
          questions about their commitment to maintaining game integrity.</p>
      </div>
      <div class="bg-gray-800 rounded-lg p-6 shadow-lg">
        <h2 class="text-2xl font-bold text-blue-500 mb-4 flex items-center">
          <i class="fas fa-business-time mr-2"></i> Microsoft's Responsibility
        </h2>
        <p class="text-gray-300">Following Microsoft's acquisition of Activision/Blizzard, effective action against
          these issues remains lacking. The focus appears to be more on restricting user options than addressing
          fundamental problems with the game.</p>
      </div>
    </section>
    <section class="mt-16 bg-gray-800 rounded-lg p-8 shadow-lg">
      <h2 class="text-3xl font-bold text-center text-blue-500 mb-8">Community Support Petition</h2>
      <div class="grid md:grid-cols-3 gap-8 mb-8">
        <div class="bg-gray-700 p-6 rounded-lg text-center">
          <h3 class="text-xl font-semibold text-blue-400 mb-2">Current Signatures</h3>
          <p id="current-signatures" class="text-3xl font-bold">0</p>
        </div>
        <div class="bg-gray-700 p-6 rounded-lg text-center">
          <h3 class="text-xl font-semibold text-blue-400 mb-2">Goal</h3>
          <p class="text-3xl font-bold">30,000</p>
        </div>
        <div class="bg-gray-700 p-6 rounded-lg text-center">
          <h3 class="text-xl font-semibold text-blue-400 mb-2">Progress</h3>
          <p id="progress-percentage" class="text-3xl font-bold">0%</p>
        </div>
      </div>
      <div class="mb-8">
        <div class="bg-gray-700 rounded-full h-4 overflow-hidden">
          <div id="progress-bar" class="bg-blue-500 h-full transition-all duration-1000 ease-out" style="width: 0%">
          </div>
        </div>
      </div>
      <button id="toggle-signatures"
        class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition duration-300 mx-auto block">
        <i class="fas fa-users mr-2"></i> Show Signatures
      </button>
      <div id="signatures-list" class="hidden mt-8 bg-gray-700 rounded-lg p-4 max-h-96 overflow-y-auto"></div>
    </section>
  </main>
  <footer class="bg-gray-800 mt-16 py-6">
    <div class="container mx-auto px-4 text-center">
      <p class="text-gray-400">© 2024 VKTEAM. All rights reserved.</p>
    </div>
  </footer>
  <script>
    // Cargar datos de firmas
    async function loadSignatures() {
      try {
        const response = await fetch("data/signatures.json");
        const data = await response.json();
        return data;
      } catch (error) {
        console.error("Error loading signatures:", error);
        return null;
      }
    }
    // Actualizar el display de estadísticas
    async function updateDisplay() {
      const data = await loadSignatures();
      if (!data) return;
      const signatures = data.total_signatures;
      const progressPercent = (signatures / 30000) * 100;
      document.getElementById("current-signatures").textContent = signatures.toLocaleString();
      document.getElementById("progress-percentage").textContent = progressPercent.toFixed(1) + "%";
      document.getElementById("progress-bar").style.width = progressPercent + "%";
    }
    // Toggle para mostrar/ocultar firmas
    async function toggleSignatures() {
      const list = document.getElementById("signatures-list");
      const button = document.getElementById("toggle-signatures");
      if (list.classList.contains("hidden")) {
        const data = await loadSignatures();
        if (!data) return;
        list.classList.remove("hidden");
        button.innerHTML = '<i class="fas fa-times mr-2"></i> Hide Signatures';
        // Generar lista de firmas
        let html = "";
        data.signatures.forEach((signature) => {
          html += `
                        <div class="bg-gray-600 rounded p-4 mb-2 flex justify-between items-center">
                            <div>
                                <strong>${signature.username}</strong>
                                <span class="ml-2 text-gray-400">${signature.email}</span>
                            </div>
                            <div class="text-gray-400 text-sm">${formatDate(signature.date)}</div>
                        </div>
                    `;
        });
        list.innerHTML = html;
      } else {
        list.classList.add("hidden");
        button.innerHTML = '<i class="fas fa-users mr-2"></i> Show Signatures';
      }
    }
    // Formatear fecha
    function formatDate(dateStr) {
      const options = { year: 'numeric', month: 'short', day: 'numeric' };
      return new Date(dateStr).toLocaleDateString('en-US', options);
    }
    // Inicializar cuando carga la página
    window.onload = () => {
      updateDisplay();
      document.getElementById("toggle-signatures").addEventListener("click", toggleSignatures);
    };
  </script>
</body>
</html>